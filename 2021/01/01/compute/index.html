<!DOCTYPE html><html lang="zh_CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>计算机基础笔记 | 野菜</title><meta name="keywords" content="计算机基础"><meta name="author" content="野菜"><meta name="copyright" content="野菜"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="计算机基础笔记"><meta name="application-name" content="计算机基础笔记"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="计算机基础笔记"><meta property="og:url" content="http://example.com/2021/01/01/compute/index.html"><meta property="og:site_name" content="野菜"><meta property="og:description" content="计算机基础笔记"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=3"><meta property="article:author" content="野菜"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=3"><meta name="description" content="计算机基础笔记"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2021/01/01/compute/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: {"apiurl":"https://friends.anheyu.com/"},
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 野菜","link":"链接: ","source":"来源: 野菜","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '野菜',
  title: '计算机基础笔记',
  postAI: '',
  pageFillDescription: '一、 跨域问题, 1. CORS, 2. 反向代理, 3. Nginx, 二、HTTP问题, 2.1 GET和POST请求, 2.2 HTTP请求头和响应头, 请求头：, 响应头：, 2.3 HTTP状态码304, 2.4HTTP 1.0 和 HTTP 1.1, 2.5 HTTP 1.1 和 HTTP 2.0, 2.6 HTTP和HTTPS, 2.7 输入URL后发生了生么, 2.8 请求报文, 2.9 响应报文, 2.10 URL, 2.11 常见的状态码, 三、DNS, 四、网络模型, 五、TCP和UDP, 六、缓存问题, 6.1 本地缓存、cookie、token, 6.2 浏览器缓存, 七、浏览器, 7.1 性能优化, 7.2 渲染机制, 7.3 XSS和CSRF攻击, 7.4 进程和线程一跨域问题概述浏览器基于安全因素的考虑是不允许进行跨域请求的如果发生跨域请求就会发生一下类似的错误跨域原因协议域名端口号解决解决方案有很多种比如前端开发时进行反向代理使用后端设置配置反向代理等等概述跨域资源共享是一种机制当一个资源访问到另一个资源时资源就会发起一个跨域的请求需要浏览器和服务器同时支持处理表示允许哪些网站访问上线后应该直接指定而不应该和客户端对应必须设置以后才能接收反向代理中配置服务器地址本地会虚拟一个服务端接受你的请求并代你发送该请求代理某些服务时用在目录下创建文件下载依赖二问题原理协议采用了请求响应模型客户端向服务器发送一个请求报文请求报文包含请求的方法协议版本请求头部和请求数据服务器以一个状态行作为响应响应的内容包括协议的版本成功或者错误代码服务器信息响应头部和响应数据步骤客户端连接到服务器发送请求服务器接受请求并返回响应释放连接连接客户端浏览器解析内容和请求应用场景请求用于对服务器资源不会产生影响的场景而请求一般用于对服务器资源会产生影响的场景是否缓存浏览器一般会对请求进行缓存但很少对请求进行缓存请求参数请求使用进行传递参数的后面拼接参数请求中的实体报文部分一般为服务器发送的数据安全性因为请求的参数是拼接在后面的所以安全性较差因为请求的会被保留在历史记录中而请求安全性较好请求长度浏览器对有长度限制因此会影响请求发送数据的长度而请求并没有长度限制刷新请求支持刷新和后退而请求每次刷新都会重新发送参数类型请求的参数传递支持更多的数据类型请求头和响应头请求头浏览器能够处理的内容类型浏览器能够显示的字符集浏览器能够处理的压缩编码浏览器当前设置的语言浏览器与服务器之间连接的类型当前页面设置的任何发出请求的页面所在的域发出请求的页面的浏览器的用户代理字符串响应头表示消息发送的时间时间的描述格式由定义服务器名称浏览器与服务器之间连接的类型控制缓存表示后面的文档属于什么类型状态码概述客户端有缓存情况下的服务端的一种响应客户端性能优化的一种方式过多的状态码可能会导致网站快照停止收录减少权重下降和连接方面默认使用非持久连接而默认使用持久连接通过使用持久连接来使多个请求复用同一个连接一次来避免使用非持久连接时每件需要建立链接的时延资源请求中会存在一些浪费宽带的现象例如客户端只是需要某个对象的一部分而服务器却将整个对象送过来了并且不支持断点续传功能则在请求头引入头域他允许只请资源的某个部分即返回码是缓存方面主要使用了里的来做为缓存判断的标准则引入了更多的缓存控制策略例如等更多可供选择的缓存头来控制缓存策略新增加了字段用来指定服务器的域名中并没有传递主机名新增加了很多的请求方法和二进制协议中的豹纹的头信息必须是文本数据体可以是文本也可以是二进制则是一个彻底的二进制协议头信息和数据题都是二进制多路复用实现了多路复用任然复用连接但是在一个连接里客户端和服务器都可以同时发送多喝请求或者回应而且不用按照顺序一一发送数据流使用了数据流的概念因为的数据包是不按顺序发送的同一个链接里面连续的数据包可能属于不同的请求因此必须对数据包做标记指出他属于那个请求将每个请求或回应的所有数据包成为一个数据流每个数据流都有一个独一无二的编号头信息压缩实现了头信息压缩由于协议不带状态每次请求都必须附上所有信息所以请求的很多字段都是重复的比如和一模一样的内容每次请求都必须附带这会浪费很多带宽也影响速度对这一点做了优化引入了头信息压缩机制一方面头信息使用或压缩后再发送另一方面客户端和服务器同时维护一张头信息表所有字段都会存入这个表生成一个索引号以后就不发送同样字段了只发送索引号这样就能提高速度了服务器推送允许服务器未经请求主动向客户端发送资源这叫做服务器推送使用服务器推送提前给客户端推送必要的资源这样就可以相对减少一些延迟时间这里需要注意的是下服务器主动推送的是静态资源和协议需要证书费用较高协议不需要是超文本传输协议信息是明文传输的则是具有安全性的加密传输协议使用不同的连接方式端口也不同协议端口是协议端口是协议连接很简单是无状态的协议是由和协议够贱的可进行加密传输身份认证的网络协议比更加安全输入后发生了生么解析首先会对进行解析分析所需要使用的传输协议和请求的资源的路径如果输入的中的协议或者主机名不合法将会把地址栏中输入的内容传递给搜索引擎如果没有问题浏览器会检查中是否出现了非法字符如果存在非法字符则对非法字符进行转义后再进行下一过程缓存判断浏览器会判断所请求的资源是否在缓存里如果请求的资源在缓存里并且没有失效那么就直接使用否则向服务器发起新的请求解析下一步首先需要获取的是输入的中的域名的地址首先会判断本地是否有该域名的地址的缓存如果有则使用如果没有则向本地服务器发起请求本地服务器也会先检查是否存在缓存如果没有就会先向根域名服务器发起请求获得负责的顶级域名服务器的地址后再向顶级域名服务器请求然后获得负责的权威域名服务器的地址后再向权威域名服务器发起请求最终获得域名的地址后本地服务器再将这个地址返回给请求的用户用户向本地服务器发起请求属于递归请求本地服务器向各级域名服务器发起请求属于迭代请求获取地址当浏览器得到地址后数据传输还需要知道目的主机地址因为应用层下发数据给传输层协议会指定源端口号和目的端口号然后下发给网络层网络层会将本机地址作为源地址获取的地址作为目的地址然后将下发给数据链路层数据链路层的发送需要加入通信双方的地址本机的地址作为源地址目的地址需要分情况处理通过将地址与本机的子网掩码相与可以判断是否与请求主机在同一个子网里如果在同一个子网里可以使用协议获取到目的主机的地址如果不在一个子网里那么请求应该转发给网关由它代为转发此时同样可以通过协议来获取网关的地址此时目的主机的地址应该为网关的地址三次握手下面是建立连接的三次握手的过程首先客户端向服务器发送一个连接请求报文段和一个随机序号服务端接收到请求后向服务器端发送一个报文段确认连接请求并且也向客户端发送一个随机序号客户端接收服务器的确认应答后进入连接建立的状态同时向服务器也发送一个确认报文段服务器端接收到确认后也进入连接建立状态此时双方的连接就建立起来了握手如果使用的是协议在通信前还存在的一个四次握手的过程首先由客户端向服务器端发送使用的协议的版本号一个随机数和可以使用的加密方法服务器端收到后确认加密的方法也向客户端发送一个随机数和自己的数字证书客户端收到后首先检查数字证书是否有效如果有效则再生成一个随机数并使用证书中的公钥对随机数加密然后发送给服务器端并且还会提供一个前面所有内容的值供服务器端检验服务器端接收后使用自己的私钥对数据解密同时向客户端发送一个前面所有内容的值供客户端检验这个时候双方都有了三个随机数按照之前所约定的加密方法使用这三个随机数生成一把秘钥以后双方通信前就使用这个秘钥对数据进行加密后再传输返回数据当页面请求发送到服务器端后服务器端会返回一个文件作为响应浏览器接收到响应后开始对文件进行解析开始页面的渲染过程页面渲染浏览器首先会根据文件构建树根据解析到的文件构建树如果遇到标签则判端是否含有或者属性要不然的加载和执行会造成页面的渲染的阻塞当树和树建立好后根据它们来构建渲染树渲染树构建好后会根据渲染树来进行布局布局完成后最后使用浏览器的接口对页面进行绘制这个时候整个页面就显示出来了四次挥手最后一步是断开连接的四次挥手过程若客户端认为数据发送完成则它需要向服务端发送连接释放请求服务端收到连接释放请求后会告诉应用层要释放链接然后会发送包并进入状态此时表明客户端到服务端的连接已经释放不再接收客户端发的数据了但是因为连接是双向的所以服务端仍旧可以发送数据给客户端服务端如果此时还有没发完的数据会继续发送完毕后会向客户端发送连接释放请求然后服务端便进入状态客户端收到释放请求后向服务端发送确认应答此时客户端进入状态该状态会持续最大段生存期指报文段在网络中生存的时间超时会被抛弃时间若该时间段内没有服务端的重发请求的话就进入状态当服务端收到确认应答后也便进入状态请求报文请求行请求法字段字段协议版本字段它们空格分隔例如请求头部请求头部由关键字值对组成每对关键字和值英冒号分割产请求的浏览器类型客户端可识别的内容类型列表请求的主机名允许多个域名同处个地址即虚拟主机空行请求体等请求携带的数据响应报文响应行由网络协议版本状态码和状态码的原因短语组成例如响应头响应部首组成空行响应体服务器响应的数据协议访问服务器获取资源时使用的协议域名资源服务器主机名或地址端口资源服务器监听的端口不同的有不同的默认端口使用作为默认端口路径服务器上的资源路径路径与服务器和有关文件名打开的文件名称参数提供给服务器上的值锚点打开用户页面时滚动到该锚点位置常见的状态码开头的表示成功一般见到的就是开头的表示重定向永久重定向临时重定向表示可以在缓存中取数据协商缓存开头表示客户端错误跨域请求资源不存在开头表示服务端错误三概述是域名系统的缩写提供的是一种主机名到地址的转换服务就是我们常说的域名系统作用将域名解析为地址客户端向服务器服务器有自己的地址发送域名查询请求服务器告知客户机服务器的地址解析过程浏览器缓存首先在浏览器缓存中查找对应的地址如果查到直接返回若找不到就继续下一步本地服务器将请求发送给本地服务器在本地域名服务器缓存中查询如果查找到就直接将查找结果返回若找不到继续下一步根域名服务器本地服务器向根域名服务器发送请求根域名服务器会返回一个所查询域的顶级域名服务器地址顶级域名服务器本地服务器向顶级域名服务器发送请求接受请求的服务器查询自己的缓存如果有记录就返回查询结果如果没有就返回相关的下一级的权威域名服务器的地址权威域名服务器本地服务器向权威域名服务器发送请求域名服务器返回对应的结果本地服务器将返回的结果保存在缓存中便于下次使用本地服务器将返回结果返回给浏览器用户向本地服务器发起请求属于递归请求本地服务器向各级域名服务器发起请求属于迭代请求比如要查询的地址首先会在浏览器的缓存中查找是否有该域名的缓存如果不存在就将请求发送到本地的服务器中本地服务器会判断是否存在该域名的缓存如果不存在则向根域名服务器发送一个请求根域名服务器返回负责的顶级域名服务器的地址的列表然后本地服务器再向其中一个负责的顶级域名服务器发送一个请求负责的顶级域名服务器返回负责的权威域名服务器的地址列表然后本地服务器再向其中一个权威域名服务器发送一个请求最后权威域名服务器返回一个对应的主机名的地址列表四网络模型应用层为应用程序提供服务表示层数据格式转化数据加密会话层建立管理和维护会话传输层建立管理和维护端到端的连接网络层选址及路由选择数据链路层提供介质访问和链路管理物理层物理层五和是否连接无连接面向连接是否可靠不可靠传输不使用流量控制和拥塞控制可靠传输数据顺序和正确性使用流量控制和拥塞控制连接对象个数支持一对一一对多多对一和多对多交互通信只能是一对一通信传输方式面向报文面向字节流首部开销首部开销小仅字节首部最小字节最大字节使用场景适用于实时应用例如视频会议直播适用于要求可靠传输的应用例如文件传输重传机制在发送一个数据之后就开启一个定时器若是在这个时间内没有收到发送数据的确认报文则对该报文进行重传在达到一定次数还没有成功时放弃并发送一个复位信号三次握手第一次握手客户端向服务端发送连接请求报文段该报文段中包含自身的数据通讯初始序号请求发送后客户端便进入状态这样服务端就能得出结论客户端的发送能力服务端的接收能力是正常的第二次握手服务端收到连接请求报文段后如果同意连接则会发送一个应答该应答中也会包含自身的数据通讯初始序号发送完成后便进入状态这样客户端就能得出结论服务端的接收发送能力客户端的接收发送能力是正常的不过此时服务器并不能确认客户端的接收能力是否正常第三次握手当客户端收到连接同意的应答后还要向服务端发送一个确认报文客户端发完这个报文段后便进入状态服务端收到这个应答后也进入状态此时连接建立成功这样服务端就能得出结论客户端的接收发送能力正常服务器自己的发送接收能力也正常三次握手原因客户端共发出了两个连接请求报文段其中第一个丢失第二个到达了服务端但是第一个丢失的报文段只是在某些网络结点长时间滞留了延误到连接释放以后的某个时间才到达服务端此时服务端误认为客户端又发出一次新的连接请求于是就向客户端发出确认报文段同意建立连接不采用三次握手只要服务端发出确认就建立新的连接了此时客户端忽略服务端发来的确认也不发送数据则服务端一致等待客户端发送数据浪费资源四次挥手第一次挥手若客户端认为数据发送完成则它需要向服务端发送连接释放请求第二次挥手服务端收到连接释放请求后会告诉应用层要释放链接然后会发送包并进入状态此时表明客户端到服务端的连接已经释放不再接收客户端发的数据了但是因为连接是双向的所以服务端仍旧可以发送数据给客户端第三次挥手服务端如果此时还有没发完的数据会继续发送完毕后会向客户端发送连接释放请求然后服务端便进入状态第四次挥手客户端收到释放请求后向服务端发送确认应答此时客户端进入状态该状态会持续最大段生存期指报文段在网络中生存的时间超时会被抛弃时间若该时间段内没有服务端的重发请求的话就进入状态当服务端收到确认应答后也便进入状态六缓存问题本地缓存网站为了标识用户身份而储存在客户端的数据不安全考虑服务器性能适用每次求情都会携带和不会自动的把数据发给服务器只会在本地保存一般是用来跟踪用户状态的保存在服务端安全登录信息保存其他信息如果需要保留可以放在中存储大小大小一般不能超过而比大得多可以达到有期事件关闭浏览器后数据依然保留除非手动清除否则一直在关闭浏览器或者标签后即失效一般由设置值及过期时间的生命周期是间隔的浏览器缓存浏览器对之前请求过的文件进行缓存以便下一次访问时重复使用节省带宽提高访问速度降低服务器压力强缓存浏览器不会像服务器发送任何请求直接从本地缓存中读取文件并返回强制缓存的情况主要有三种暂不分析协商缓存过程如下不存在该缓存结果和缓存标识强制缓存失效则直接向服务器发起请求跟第一次发起请求一致存在该缓存结果和缓存标识但该结果已失效强制缓存失效则使用协商缓存存在该缓存结果和缓存标识且该结果尚未失效强制缓存生效直接返回该结果当浏览器向服务器发起请求时服务器会将缓存规则放入响应报文的头中和请求结果一起返回给浏览器控制强制缓存的字段分别是和其中优先级比高协商缓存协商缓存就是强制缓存失效后浏览器携带缓存标识向服务器发起请求由服务器根据缓存标识决定是否使用本地缓存的过程主要有以下两种情况协商缓存生效返回协商缓存失效返回和请求结果结果七浏览器性能优化减少请求次数对和打包资源合并适用雪碧图把请求的合并成一张图片给资源做缓存图片按需加载懒加载减少打包体积异步加载文件开启打包路由懒加载图片懒加载预渲染和服务端渲染组件的按需加载渲染机制被解析器解析成树则被解析器解析成树结合树和树生成一棵渲染树根据生成的渲染树进行回流得到节点的几何信息位置大小重绘根据渲染树以及回流得到的几何信息得到节点的绝对像素像素背景色外观等将像素发送给展示在页面上回流重排当的变化影响了元素位置和尺寸大小浏览器需要重新计算元素的几何属性页面第一次加载时进行一次回流当元素的发生改变的时候会发生回流使节点增减或移动读写时浏览器为了获取这些值会进行回流操作使用的时候重绘当改变元素时只是改变了它的外观比如背景颜色等而没有影响到它的布局这个时候会发生重绘回流重排必将引起重绘重绘不一定会引起回流重排如何避免或减少避免逐次改变样式样式统一批量修改离线处理减少回流重绘次数使用在之外建立一个子树属性控制其脱离文档流硬件加速加速和攻击不需要你做任何的登录认证它会通过合法的操作比如在中输入在评论框中输入向你的页面注入脚本可能是代码块等跨域脚本攻击防御编码对用户输入的数据进行编码把字符转换成转义字符的作用是将等一些字符进行转化使得浏览器在最终输出结果上是一样的过滤移除用户输入的和事件相关的属性在未退出网站的前提下访问使用的去访问服务器跨站请求伪造防御使用验证码或者验证每次提交表单时需要带上伪造者访问不到如果不合法服务器拒绝请求通过来判断是否为非法用户给设置属性来限制第三方里面有三个值进程和线程进程是程序的一次执行他占有一片独有的内存空间可以通过任务管理器查看线程是进程内的一个独立执行单元是程序执行的一个完整的流程是的最小的调度单元联系一个线程只能属于一个进程而一个进程可以有多个线程但至少有一个线程资源分配给进程同一进程的所有线程共享该进程的所有资源处理机分给线程即真正在处理机上运行的是线程',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-11-06 10:25:24',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">野菜</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AJAX/" style="font-size: 1.05rem;">AJAX<sup>1</sup></a><a href="/tags/Axios/" style="font-size: 1.05rem;">Axios<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 1.05rem;">CSS<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>1</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>1</sup></a><a href="/tags/MySQL/" style="font-size: 1.05rem;">MySQL<sup>1</sup></a><a href="/tags/Node-js/" style="font-size: 1.05rem;">Node.js<sup>1</sup></a><a href="/tags/React/" style="font-size: 1.05rem;">React<sup>1</sup></a><a href="/tags/TypeScript/" style="font-size: 1.05rem;">TypeScript<sup>1</sup></a><a href="/tags/Vue/" style="font-size: 1.05rem;">Vue<sup>3</sup></a><a href="/tags/Vue3/" style="font-size: 1.05rem;">Vue3<sup>1</sup></a><a href="/tags/canvas/" style="font-size: 1.05rem;">canvas<sup>1</sup></a><a href="/tags/host/" style="font-size: 1.05rem;">host<sup>1</sup></a><a href="/tags/js/" style="font-size: 1.05rem;">js<sup>3</sup></a><a href="/tags/this/" style="font-size: 1.05rem;">this<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.05rem;">前端<sup>3</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.05rem;">博客<sup>1</sup></a><a href="/tags/%E6%8C%87%E4%BB%A4/" style="font-size: 1.05rem;">指令<sup>1</sup></a><a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 1.05rem;">教程<sup>1</sup></a><a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 1.05rem;">框架<sup>1</sup></a><a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 1.05rem;">笔记<sup>3</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F/" style="font-size: 1.05rem;">系统<sup>4</sup></a><a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 1.05rem;">编程<sup>12</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 1.05rem;">面试题<sup>1</sup></a><a href="/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/" style="font-size: 1.05rem;">项目总结<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/11/"><span class="card-archive-list-date">十一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/10/"><span class="card-archive-list-date">十月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" itemprop="url">计算机基础</a></span><span class="article-meta tags"></span></div></div><h1 class="post-title" itemprop="name headline">计算机基础笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2021-01-01T08:00:00.000Z" title="发表于 2021-01-01 16:00:00">2021-01-01</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-11-06T02:25:24.987Z" title="更新于 2025-11-06 10:25:24">2025-11-06</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为长沙"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>长沙</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=3"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2021/01/01/compute/"><header><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" itemprop="url">计算机基础</a><h1 id="CrawlerTitle" itemprop="name headline">计算机基础笔记</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">野菜</span><time itemprop="dateCreated datePublished" datetime="2021-01-01T08:00:00.000Z" title="发表于 2021-01-01 16:00:00">2021-01-01</time><time itemprop="dateCreated datePublished" datetime="2025-11-06T02:25:24.987Z" title="更新于 2025-11-06 10:25:24">2025-11-06</time></header><h2 id="一、-跨域问题"><a href="#一、-跨域问题" class="headerlink" title="一、 跨域问题"></a>一、 跨域问题</h2><p>概述：浏览器基于安全因素的考虑，是不允许进行跨域请求的，如果发生跨域请求，就会发生一下类似的错误。</p>
<p>跨域原因：</p>
<ul>
<li>协议：<code>http</code></li>
<li>域名：<code>baidu.com</code></li>
<li>端口号: <code>3000</code></li>
</ul>
<p>解决：解决方案有很多种，比如前端开发时进行<code>反向代理</code>，使用<code>JSONP</code>，后端设置<code>CORS</code>、配置 <code>nginx </code>反向代理等等</p>
<h3 id="1-CORS"><a href="#1-CORS" class="headerlink" title="1. CORS"></a>1. <code>CORS</code></h3><p>概述：跨域资源共享是一种机制，当一个资源访问到另一个资源时，资源就会发起一个跨域的http请求需要浏览器和服务器同时支持：</p>
<p><code>node.js</code>处理</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;*&#x27;</span>, <span class="keyword">function</span>(<span class="params">req, res, next</span>) &#123;</span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>); <span class="comment">// 表示允许哪些网站访问，上线后应该直接指定ip而不应该 *</span></span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;GET, POST, PUT, DELETE&#x27;</span>);</span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Content-Type,Content-Length, Authorization, Accept,X-Requested-With&#x27;</span>);</span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Credentials&#x27;</span>, <span class="string">&#x27;true&#x27;</span>);<span class="comment">//和客户端对应，必须设置以后，才能接收cookie.</span></span><br><span class="line"></span><br><span class="line">      <span class="title function_">next</span>();</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-反向代理"><a href="#2-反向代理" class="headerlink" title="2. 反向代理"></a>2. 反向代理</h3><ul>
<li>Vue  config.js中配置</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>, <span class="comment">// 服务器地址</span></span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// 本地会虚拟一个服务端接受你的请求并代你发送该请求</span></span><br><span class="line">        <span class="attr">secure</span>: <span class="literal">false</span>, <span class="comment">// 代理某些 https 服务时用</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>React 在src目录下创建setupProxy.js文件</li>
<li>下载依赖</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i http-proxy-middleware -D</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;createProxyMiddleware&#125; = <span class="built_in">require</span>(<span class="string">&#x27;http-proxy-middleware&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> (<span class="params">app</span>) &#123;</span><br><span class="line">    app.<span class="title function_">use</span>(<span class="title function_">createProxyMiddleware</span>(</span><br><span class="line">    <span class="string">&#x27;/mock&#x27;</span>,&#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>:<span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;^/mock&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-Nginx"><a href="#3-Nginx" class="headerlink" title="3. Nginx"></a>3. Nginx</h3><h2 id="二、HTTP问题"><a href="#二、HTTP问题" class="headerlink" title="二、HTTP问题"></a>二、HTTP问题</h2><p>原理：HTTP协议采用了请求&#x2F;响应模型。客户端向服务器发送一个请求报文，请求报文包含请求的方法、URL、协议版本、请求头部和请求数据。服务器以一个状态行作为响应，响应的内容包括协议的版本、成功或者错误代码、服务器信息、响应头部和响应数据。</p>
<p>步骤：客户端连接到Web服务器-&gt;发送Http请求-&gt;服务器接受请求并返回HTTP响应-&gt;释放连接TCP连接-&gt;客户端浏览器解析HTML内容</p>
<h3 id="2-1-GET和POST请求"><a href="#2-1-GET和POST请求" class="headerlink" title="2.1 GET和POST请求"></a>2.1 GET和POST请求</h3><ul>
<li>应用场景：GET请求用于对服务器资源不会产生影响的场景。而POST请求一般用于对服务器资源会产生影响的场景。</li>
<li>是否缓存：浏览器一般会对GET请求进行缓存，但很少对POST请求进行缓存。</li>
<li>请求参数：GET请求使用URL进行传递参数，URL的？后面拼接参数，POST请求中的实体报文部分一般为服务器发送的数据。</li>
<li>安全性：因为GET请求的参数是拼接在URL后面的，所以安全性较差，因为请求的URL会被保留在历史记录中，而POST请求安全性较好。</li>
<li>请求长度：浏览器对URL有长度限制，因此会影响GET请求发送数据的长度，而POST请求并没有长度限制。</li>
<li>刷新：GET请求支持刷新和后退，而POST请求每次刷新都会重新发送</li>
<li>参数类型：POST请求的参数传递支持更多的数据类型</li>
</ul>
<h3 id="2-2-HTTP请求头和响应头"><a href="#2-2-HTTP请求头和响应头" class="headerlink" title="2.2 HTTP请求头和响应头"></a>2.2 HTTP请求头和响应头</h3><h4 id="请求头："><a href="#请求头：" class="headerlink" title="请求头："></a>请求头：</h4><ul>
<li>Accept:浏览器能够处理的内容类型</li>
<li>Accept-Charset:浏览器能够显示的字符集</li>
<li>Accept-Encoding：浏览器能够处理的压缩编码</li>
<li>Accept-Language：浏览器当前设置的语言</li>
<li>Connection：浏览器与服务器之间连接的类型</li>
<li>Cookie：当前页面设置的任何Cookie</li>
<li>Host：发出请求的页面所在的域</li>
<li>Referer：发出请求的页面的URL</li>
<li>User-Agent：浏览器的用户代理字符串</li>
</ul>
<h4 id="响应头："><a href="#响应头：" class="headerlink" title="响应头："></a>响应头：</h4><ul>
<li>Date：表示消息发送的时间，时间的描述格式由rfc822定义</li>
<li>server:服务器名称</li>
<li>Connection：浏览器与服务器之间连接的类型</li>
<li>Cache-Control：控制HTTP缓存</li>
<li>content-type:表示后面的文档属于什么MIME类型</li>
</ul>
<h3 id="2-3-HTTP状态码304"><a href="#2-3-HTTP状态码304" class="headerlink" title="2.3 HTTP状态码304"></a>2.3 HTTP状态码304</h3><p>概述：客户端有缓存情况下的服务端的一种响应客户端性能优化的一种方式</p>
<p>过多的304状态码可能会导致网站快照停止，收录减少，权重下降</p>
<h3 id="2-4HTTP-1-0-和-HTTP-1-1"><a href="#2-4HTTP-1-0-和-HTTP-1-1" class="headerlink" title="2.4HTTP 1.0 和 HTTP 1.1"></a>2.4HTTP 1.0 和 HTTP 1.1</h3><ul>
<li><strong>连接方面</strong>：1.0默认使用非持久连接，而1.1 默认使用持久连接。1.1通过使用持久连接来使多个http请求复用同一个TCP连接，一次来避免使用非持久连接时每件需要建立链接的时延。</li>
<li><strong>资源请求</strong>：1.0 中会存在一些浪费宽带的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能。1.1 则在请求头引入 range 头域，他允许只请资源的某个部分，即返回码是206</li>
<li><strong>缓存方面</strong>： 1.0 主要使用了 header 里的  If-Modified-Since、Expires 来做为缓存判断的标准，http1.1 则引入了更多的缓存控制策略，例如 Etag、If-Unmodified-Since、If-Match、If-None-Match 等更多可供选择的缓存头来控制缓存策略 </li>
<li>1.1 新增加了 host 字段，用来指定服务器的域名。1.0 中并没有传递主机名。</li>
<li>1.1 新增加了很多的请求方法</li>
</ul>
<h3 id="2-5-HTTP-1-1-和-HTTP-2-0"><a href="#2-5-HTTP-1-1-和-HTTP-2-0" class="headerlink" title="2.5 HTTP 1.1 和 HTTP 2.0"></a>2.5 HTTP 1.1 和 HTTP 2.0</h3><ul>
<li><strong>二进制协议</strong>：1.1 中的豹纹的头信息必须是文本，数据体可以是文本，也可以是二进制。2.0 则是一个彻底的二进制协议，头信息和数据题都是二进制</li>
<li><strong>多路复用</strong>：2.0 实现了多路复用，任然复用TCP连接，但是在一个连接里，客户端和服务器都可以同时发送多喝请求或者回应，而且不用按照顺序一一发送。</li>
<li><strong>数据流</strong>：2.0使用了数据流的概念，因为2.0的数据包是不按顺序发送的，同一个链接里面连续的数据包，可能属于不同的请求。因此，必须对数据包做标记，指出他属于那个请求。2.0将每个请求或回应的所有数据包，成为一个数据流，每个数据流都有一个独一无二的编号。</li>
<li><strong>头信息压缩</strong>： HTTP&#x2F;2 实现了头信息压缩，由于 HTTP 1.1 协议不带状态，每次请求都必须附上所有信息。所以，请求的很多字段都是重复的，比如 Cookie 和 User Agent ，一模一样的内容，每次请求都必须附带，这会浪费很多带宽，也影响速度。HTTP&#x2F;2 对这一点做了优化，引入了头信息压缩机制。一方面，头信息使用 gzip 或 compress 压缩后再发送；另一方面，客户端和服务器同时维护一张头信息表，所有字段都会存入这个表，生成一个索引号，以后就不发送同样字段了，只发送索引号，这样就能提高速度了。 </li>
<li><strong><em>服务器推</em>送</strong>： HTTP&#x2F;2 允许服务器未经请求，主动向客户端发送资源，这叫做服务器推送。使用服务器推送提前给客户端推送必要的资源，这样就可以相对减少一些延迟时间。这里需要注意的是 http2 下服务器主动推送的是静态资源，。</li>
</ul>
<h3 id="2-6-HTTP和HTTPS"><a href="#2-6-HTTP和HTTPS" class="headerlink" title="2.6 HTTP和HTTPS"></a>2.6 HTTP和HTTPS</h3><ul>
<li>HTTPS 协议需要CA证书，费用较高；HTTP协议不需要</li>
<li>HTTPS是超文本传输协议，信息是明文传输的；HTTPS则是具有安全性的SSL加密传输协议</li>
<li>使用不同的连接方式，端口也不同，HTTP协议端口是80，HTTPS协议端口是443</li>
<li>HTTP协议连接很简单，是无状态的；HTTPS协议是由SSL和HTTP协议够贱的可进行加密传输，身份认证的网络协议，比HTTP更加安全。</li>
</ul>
<h3 id="2-7-输入URL后发生了生么"><a href="#2-7-输入URL后发生了生么" class="headerlink" title="2.7 输入URL后发生了生么"></a>2.7 输入URL后发生了生么</h3><ul>
<li>）<strong>解析URL</strong>：首先会对 URL 进行解析，分析所需要使用的传输协议和请求的资源的路径。如果输入的 URL 中的协议或者主机名不合法，将会把地址栏中输入的内容传递给搜索引擎。如果没有问题，浏览器会检查 URL 中是否出现了非法字符，如果存在非法字符，则对非法字符进行转义后再进行下一过程。</li>
<li><strong>缓存判断</strong>：浏览器会判断所请求的资源是否在缓存里，如果请求的资源在缓存里并且没有失效，那么就直接使用，否则向服务器发起新的请求。</li>
<li><strong>DNS解析</strong>：下一步首先需要获取的是输入的 URL 中的域名的 IP 地址，首先会判断本地是否有该域名的 IP 地址的缓存，如果有则使用，如果没有则向本地 DNS 服务器发起请求。本地 DNS 服务器也会先检查是否存在缓存，如果没有就会先向根域名服务器发起请求，获得负责的顶级域名服务器的地址后，再向顶级域名服务器请求，然后获得负责的权威域名服务器的地址后，再向权威域名服务器发起请求，最终获得域名的 IP 地址后，本地 DNS 服务器再将这个 IP 地址返回给请求的用户。用户向本地 DNS 服务器发起请求属于递归请求，本地 DNS 服务器向各级域名服务器发起请求属于迭代请求。</li>
<li><strong>获取MAC地址</strong>：当浏览器得到 IP 地址后，数据传输还需要知道目的主机 MAC 地址，因为应用层下发数据给传输层，TCP 协议会指定源端口号和目的端口号，然后下发给网络层。网络层会将本机地址作为源地址，获取的 IP 地址作为目的地址。然后将下发给数据链路层，数据链路层的发送需要加入通信双方的 MAC 地址，本机的 MAC 地址作为源 MAC 地址，目的 MAC 地址需要分情况处理。通过将 IP 地址与本机的子网掩码相与，可以判断是否与请求主机在同一个子网里，如果在同一个子网里，可以使用 APR 协议获取到目的主机的 MAC 地址，如果不在一个子网里，那么请求应该转发给网关，由它代为转发，此时同样可以通过 ARP 协议来获取网关的 MAC 地址，此时目的主机的 MAC 地址应该为网关的地址。</li>
<li><strong>TCP三次握手</strong>：下面是 TCP 建立连接的三次握手的过程，首先客户端向服务器发送一个 SYN 连接请求报文段和一个随机序号，服务端接收到请求后向服务器端发送一个 SYN ACK报文段，确认连接请求，并且也向客户端发送一个随机序号。客户端接收服务器的确认应答后，进入连接建立的状态，同时向服务器也发送一个ACK 确认报文段，服务器端接收到确认后，也进入连接建立状态，此时双方的连接就建立起来了。</li>
<li><strong>HTTPS握手</strong>：如果使用的是 HTTPS 协议，在通信前还存在 TLS 的一个四次握手的过程。首先由客户端向服务器端发送使用的协议的版本号、一个随机数和可以使用的加密方法。服务器端收到后，确认加密的方法，也向客户端发送一个随机数和自己的数字证书。客户端收到后，首先检查数字证书是否有效，如果有效，则再生成一个随机数，并使用证书中的公钥对随机数加密，然后发送给服务器端，并且还会提供一个前面所有内容的 hash 值供服务器端检验。服务器端接收后，使用自己的私钥对数据解密，同时向客户端发送一个前面所有内容的 hash 值供客户端检验。这个时候双方都有了三个随机数，按照之前所约定的加密方法，使用这三个随机数生成一把秘钥，以后双方通信前，就使用这个秘钥对数据进行加密后再传输。</li>
<li><strong>返回数据</strong>：当页面请求发送到服务器端后，服务器端会返回一个 html 文件作为响应，浏览器接收到响应后，开始对 html 文件进行解析，开始页面的渲染过程。</li>
<li><strong>页面渲染</strong>：浏览器首先会根据 html 文件构建 DOM 树，根据解析到的 css 文件构建 CSSOM 树，如果遇到 script 标签，则判端是否含有 defer 或者 async 属性，要不然 script 的加载和执行会造成页面的渲染的阻塞。当 DOM 树和 CSSOM 树建立好后，根据它们来构建渲染树。渲染树构建好后，会根据渲染树来进行布局。布局完成后，最后使用浏览器的 UI 接口对页面进行绘制。这个时候整个页面就显示出来了。</li>
<li><strong>TCP四次挥手</strong>：最后一步是 TCP 断开连接的四次挥手过程。若客户端认为数据发送完成，则它需要向服务端发送连接释放请求。服务端收到连接释放请求后，会告诉应用层要释放 TCP 链接。然后会发送 ACK 包，并进入 CLOSE_WAIT 状态，此时表明客户端到服务端的连接已经释放，不再接收客户端发的数据了。但是因为 TCP 连接是双向的，所以服务端仍旧可以发送数据给客户端。服务端如果此时还有没发完的数据会继续发送，完毕后会向客户端发送连接释放请求，然后服务端便进入 LAST-ACK 状态。客户端收到释放请求后，向服务端发送确认应答，此时客户端进入 TIME-WAIT 状态。该状态会持续 2MSL（最大段生存期，指报文段在网络中生存的时间，超时会被抛弃） 时间，若该时间段内没有服务端的重发请求的话，就进入 CLOSED 状态。当服务端收到确认应答后，也便进入 CLOSED 状态。</li>
</ul>
<h3 id="2-8-请求报文"><a href="#2-8-请求报文" class="headerlink" title="2.8 请求报文"></a>2.8 请求报文</h3><ul>
<li><strong>请求行</strong>： 请求⽅法字段、URL字段、HTTP协议版本字段。它们⽤空格分隔。例如，GET &#x2F;index.html HTTP&#x2F;1.1。 </li>
<li><strong>请求头部</strong>： 请求头部由关键字&#x2F;值对组成，每⾏⼀对，关键字和值⽤英⽂冒号“:”分割<ul>
<li>User-Agent：产⽣请求的浏览器类型。 </li>
<li>Accept：客户端可识别的内容类型列表。 </li>
<li>Host：请求的主机名，允许多个域名同处⼀个IP地址，即虚拟主机。</li>
</ul>
</li>
<li><strong>空行</strong></li>
<li><strong>请求体</strong>：post put等请求携带的数据</li>
</ul>
<h3 id="2-9-响应报文"><a href="#2-9-响应报文" class="headerlink" title="2.9 响应报文"></a>2.9 响应报文</h3><ul>
<li><strong>响应行</strong>： 由网络协议版本，状态码和状态码的原因短语组成，例如 HTTP&#x2F;1.1 200 OK 。 </li>
<li><strong>响应头</strong>：响应部首组成</li>
<li><strong>空行</strong></li>
<li><strong>响应体</strong>：服务器响应的数据</li>
</ul>
<h3 id="2-10-URL"><a href="#2-10-URL" class="headerlink" title="2.10 URL"></a>2.10 URL</h3><ul>
<li>协议：访问服务器获取资源时使用的协议</li>
<li>域名：资源服务器主机名或IP地址</li>
<li>端口：资源服务器监听的端口，不同的scheme有不同的默认端口（HTTP使用80作为默认端口）</li>
<li>路径：服务器上的资源路径。路径与服务器和scheme有关</li>
<li>文件名：打开的文件名称</li>
<li>参数：提供给服务器上的值</li>
<li>锚点：打开用户页面时滚动到该锚点位置</li>
</ul>
<h3 id="2-11-常见的状态码"><a href="#2-11-常见的状态码" class="headerlink" title="2.11 常见的状态码"></a>2.11 常见的状态码</h3><ul>
<li>2开头的表示成功<ul>
<li>一般见到的就是200</li>
</ul>
</li>
<li>3开头的表示重定向<ul>
<li>301永久重定向</li>
<li>302临时重定向</li>
<li>304表示可以在缓存中取数据（协商缓存）</li>
</ul>
</li>
<li>4开头表示客户端错误<ul>
<li>403跨域</li>
<li>404请求资源不存在</li>
</ul>
</li>
<li>5开头表示服务端错误<ul>
<li>50</li>
</ul>
</li>
</ul>
<h2 id="三、DNS"><a href="#三、DNS" class="headerlink" title="三、DNS"></a>三、DNS</h2><p>概述： DNS 是域名系统 (Domain Name System) 的缩写，提供的是一种主机名到 IP 地址的转换服务，就是我们常说的域名系统。 </p>
<p>作用： 将域名解析为IP地址，客户端向DNS服务器（DNS服务器有自己的IP地址）发送域名查询请求，DNS服务器告知客户机Web服务器的 IP 地址。 </p>
<p>解析过程：</p>
<ul>
<li><strong>浏览器缓存</strong>：首先在浏览器缓存中查找对应的IP地址，如果查到直接返回，若找不到就继续下一步</li>
<li><strong>本地DNS服务器</strong>： 将请求发送给本地DNS服务器，在本地域名服务器缓存中查询，如果查找到，就直接将查找结果返回，若找不到继续下一步 </li>
<li><strong>根域名服务器</strong>： 本地DNS服务器向根域名服务器发送请求，根域名服务器会返回一个所查询域的顶级域名服务器地址 </li>
<li><strong>顶级域名服务器</strong>： 本地DNS服务器向顶级域名服务器发送请求，接受请求的服务器查询自己的缓存，如果有记录，就返回查询结果，如果没有就返回相关的下一级的权威域名服务器的地址 </li>
<li><strong>权威域名服务器</strong>： 本地DNS服务器向权威域名服务器发送请求，域名服务器返回对应的结果 </li>
<li>本地DNS服务器将返回的结果保存在缓存中，便于下次使用</li>
<li>本地DNS服务器将返回结果返回给浏览器</li>
<li>用户向本地 DNS 服务器发起请求属于递归请求，本地 DNS 服务器向各级域名服务器发起请求属于迭代请求。</li>
</ul>
<p> 比如要查询 <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> 的 IP 地址，首先会在浏览器的缓存中查找是否有该域名的缓存，如果不存在就将请求发送到本地的 DNS 服务器中，本地DNS服务器会判断是否存在该域名的缓存，如果不存在，则向根域名服务器发送一个请求，根域名服务器返回负责 .com 的顶级域名服务器的 IP 地址的列表。然后本地 DNS 服务器再向其中一个负责 .com 的顶级域名服务器发送一个请求，负责 .com 的顶级域名服务器返回负责 .baidu 的权威域名服务器的 IP 地址列表。然后本地 DNS 服务器再向其中一个权威域名服务器发送一个请求，最后权威域名服务器返回一个对应的主机名的 IP 地址列表。 </p>
<h2 id="四、网络模型"><a href="#四、网络模型" class="headerlink" title="四、网络模型"></a>四、网络模型</h2><ul>
<li><strong>应用层</strong>：为应用程序提供服务</li>
<li><strong>表示层</strong>：数据格式转化、数据加密</li>
<li><strong>会话层</strong>：建立、管理和维护会话</li>
<li><strong>传输层</strong>：建立、管理和维护端到端的连接</li>
<li><strong>网络层</strong>：IP选址及路由选择</li>
<li><strong>数据链路层</strong>：提供介质访问和链路管理</li>
<li><strong>物理层</strong>：物理层</li>
</ul>
<h2 id="五、TCP和UDP"><a href="#五、TCP和UDP" class="headerlink" title="五、TCP和UDP"></a>五、TCP和UDP</h2><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">UDP</th>
<th align="center">TCP</th>
</tr>
</thead>
<tbody><tr>
<td align="center">是否连接</td>
<td align="center">无连接</td>
<td align="center">面向连接</td>
</tr>
<tr>
<td align="center">是否可靠</td>
<td align="center">不可靠传输，不使用流量控制和拥塞控制</td>
<td align="center">可靠传输（数据顺序和正确性），使用流量控制和拥塞控制</td>
</tr>
<tr>
<td align="center">连接对象个数</td>
<td align="center">支持一对一，一对多，多对一和多对多交互通信</td>
<td align="center">只能是一对一通信</td>
</tr>
<tr>
<td align="center">传输方式</td>
<td align="center">面向报文</td>
<td align="center">面向字节流</td>
</tr>
<tr>
<td align="center">首部开销</td>
<td align="center">首部开销小，仅8字节</td>
<td align="center">首部最小20字节，最大60字节</td>
</tr>
<tr>
<td align="center">使用场景</td>
<td align="center">适用于实时应用，例如视频会议、直播</td>
<td align="center">适用于要求可靠传输的应用，例如文件传输</td>
</tr>
</tbody></table>
<p><strong>TCP重传机制</strong>： TCP在发送一个数据之后，就开启一个定时器，若是在这个时间内没有收到发送数据的ACK确认报文，则对该报文进行重传，在达到一定次数还没有成功时放弃并发送一个复位信号。 </p>
<p><strong>TCP三次握手</strong>：</p>
<ul>
<li>第一次握手： 客户端向服务端发送连接请求报文段。该报文段中包含自身的数据通讯初始序号。请求发送后，客户端便进入 SYN-SENT 状态。</li>
</ul>
<p>这样服务端就能得出结论：客户端的发送能力、服务端的接收能力是正常的。</p>
<ul>
<li>第二次握手： 服务端收到连接请求报文段后，如果同意连接，则会发送一个应答，该应答中也会包含自身的数据通讯初始序号，发送完成后便进入 SYN-RECEIVED 状态。</li>
</ul>
<p>这样客户端就能得出结论：服务端的接收、发送能力，客户端的接收、发送能力是正常的。不过此时服务器并不能确认客户端的接收能力是否正常。</p>
<ul>
<li>第三次握手： 当客户端收到连接同意的应答后，还要向服务端发送一个确认报文。客户端发完这个报文段后便进入 ESTABLISHED 状态，服务端收到这个应答后也进入 ESTABLISHED 状态，此时连接建立成功。</li>
</ul>
<p>这样服务端就能得出结论：客户端的接收、发送能力正常，服务器自己的发送、接收能力也正常。</p>
<p><strong>三次握手原因</strong>：客户端共发出了两个连接请求报文段，其中第一个丢失，第二个到达了服务端，但是第一个丢失的报文段只是在某些网络结点长时间滞留了，延误到连接释放以后的某个时间才到达服务端，此时服务端误认为客户端又发出一次新的连接请求，于是就向客户端发出确认报文段，同意建立连接，不采用三次握手，只要服务端发出确认，就建立新的连接了，此时客户端忽略服务端发来的确认，也不发送数据，则服务端一致等待客户端发送数据，浪费资源。</p>
<p><strong>四次挥手</strong>：</p>
<ul>
<li>第一次挥手：若客户端认为数据发送完成，则它需要向服务端发送连接释放请求。</li>
<li>第二次挥手：服务端收到连接释放请求后，会告诉应用层要释放 TCP 链接。然后会发送 ACK 包，并进入 CLOSE_WAIT 状态，此时表明客户端到服务端的连接已经释放，不再接收客户端发的数据了。但是因为 TCP 连接是双向的，所以服务端仍旧可以发送数据给客户端。</li>
<li>第三次挥手：服务端如果此时还有没发完的数据会继续发送，完毕后会向客户端发送连接释放请求，然后服务端便进入 LAST-ACK 状态。</li>
<li>第四次挥手：客户端收到释放请求后，向服务端发送确认应答，此时客户端进入 TIME-WAIT 状态。该状态会持续 2MSL（最大段生存期，指报文段在网络中生存的时间，超时会被抛弃） 时间，若该时间段内没有服务端的重发请求的话，就进入 CLOSED 状态。当服务端收到确认应答后，也便进入 CLOSED 状态。</li>
</ul>
<h2 id="六、缓存问题"><a href="#六、缓存问题" class="headerlink" title="六、缓存问题"></a>六、缓存问题</h2><h3 id="6-1-本地缓存、cookie、token"><a href="#6-1-本地缓存、cookie、token" class="headerlink" title="6.1 本地缓存、cookie、token"></a>6.1 本地缓存、cookie、token</h3><ul>
<li><p>cookie:网站为了标识用户身份而储存在客户端的数据。（不安全，考虑服务器性能适用cookie），每次http求情都会携带 	</p>
</li>
<li><p>localStorage和SessionStorage不会自动的把数据发给服务器，只会在本地保存</p>
</li>
<li><p>session：一般是用来跟踪用户状态的，保存在服务端（安全，登录信息保存，其他信息如果需要保留，可以放在cookie中）</p>
</li>
</ul>
<p>存储大小：cookie大小一般不能超过4k，而 **localStorage、SessionStorage比cookie大得多，可以达到5M</p>
<p>有期事件：localStorage关闭浏览器后数据依然保留，除非手动清除，否则一直在</p>
<p>​					sessionStorage关闭浏览器或者标签后即失效</p>
<p>​					cookie一般由 server 设置值及过期时间</p>
<p>​					session的生命周期是间隔的</p>
<h3 id="6-2-浏览器缓存"><a href="#6-2-浏览器缓存" class="headerlink" title="6.2 浏览器缓存"></a>6.2 浏览器缓存</h3><p>浏览器对之前请求过的文件进行缓存，以便下一次访问时重复使用，节省带宽，提高访问速度，降低服务器压力</p>
<p><strong>强缓存</strong>：浏览器不会像服务器发送任何请求，直接从本地缓存中读取文件并返回，强制缓存的情况主要有三种(暂不分析协商缓存过程)，如下：</p>
<pre><code>    1. 不存在该缓存结果和缓存标识，强制缓存失效，则直接向服务器发起请求（跟第一次发起请求一致）
    1. 存在该缓存结果和缓存标识，但该结果已失效，强制缓存失效，则使用协商缓存
    1. 存在该缓存结果和缓存标识，且该结果尚未失效，强制缓存生效，直接返回该结果
</code></pre>
<p>​	当浏览器向服务器发起请求时，服务器会将缓存规则放入HTTP响应报文的HTTP头中和请求结果一起返回给浏览器，控制强制缓存的字段分别是Expires和Cache-Control，其中Cache-Control优先级比Expires高</p>
<p><strong>协商缓存</strong>：协商缓存就是强制缓存失效后，浏览器携带缓存标识向服务器发起请求，由服务器根据缓存标识决定是否使用本地缓存的过程，主要有以下两种情况：</p>
<pre><code>1. 协商缓存生效，返回304
1. 协商缓存失效，返回200和请求结果结果
</code></pre>
<h2 id="七、浏览器"><a href="#七、浏览器" class="headerlink" title="七、浏览器"></a>七、浏览器</h2><h3 id="7-1-性能优化"><a href="#7-1-性能优化" class="headerlink" title="7.1 性能优化"></a>7.1 性能优化</h3><ul>
<li>减少http请求次数</li>
<li>对js和css打包，资源合并</li>
<li>适用雪碧图，把请求的icon合并成一张图片</li>
<li>给资源做缓存</li>
<li>图片按需加载（懒加载）</li>
<li>CDN减少打包体积</li>
<li>异步加载js文件</li>
<li>开启gzip打包</li>
<li>路由懒加载，图片懒加载</li>
<li>预渲染和服务端渲染</li>
<li>组件的按需加载</li>
</ul>
<h3 id="7-2-渲染机制"><a href="#7-2-渲染机制" class="headerlink" title="7.2 渲染机制"></a>7.2 渲染机制</h3><ul>
<li><code>HTML</code>被HTML解析器解析成<code>DOM</code> 树</li>
<li><code>css</code>则被css解析器解析成<code>CSSOM </code>树</li>
<li>结合<code>DOM</code>树和<code>CSSOM</code>树，生成一棵渲染树(<code>Render Tree</code>)</li>
<li>.根据生成的渲染树，进行回流（Layout）,得到节点的几何信息（位置，大小）</li>
<li>重绘（Painting）：根据渲染树以及回流得到的几何信息，得到节点的绝对<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%83%8F%E7%B4%A0&spm=1001.2101.3001.7020">像素</a>（像素，背景色，外观等）</li>
<li>Display将像素发送给GPU，展示在页面上</li>
</ul>
<p>回流(重排)： 当<code>DOM</code>的变化影响了元素位置和尺寸大小，浏览器需要重新计算元素的几何属性</p>
<ul>
<li><p>页面第一次加载时进行一次回流</p>
</li>
<li><p>当元素的 width、height、margin、padding、left、top 发生改变的时候会发生回流、</p>
</li>
<li><p>使 DOM节点增减或移动</p>
</li>
<li><p>读写 offset、client、scroll 时，浏览器为了获取这些值，会进行回流操作</p>
</li>
<li><p>使用 <code>window.getComputedStyle</code>的时候</p>
</li>
</ul>
<p>重绘：</p>
<ul>
<li>当改变元素时，只是改变了它的外观，比如背景颜色等，而没有影响到它的布局，这个时候会发生重绘</li>
<li>回流(重排)必将引起重绘；重绘不一定会引起回流(重排)</li>
</ul>
<p>如何避免或减少：</p>
<ul>
<li>避免逐次改变样式，样式统一批量修改</li>
<li>DOM离线处理，减少回流重绘次数<ul>
<li>使用document fragment在DOM Tree之外建立一个子树</li>
<li>position属性控制其脱离文档流</li>
</ul>
</li>
<li>CSS3硬件加速（GPU加速）</li>
</ul>
<h3 id="7-3-XSS和CSRF攻击"><a href="#7-3-XSS和CSRF攻击" class="headerlink" title="7.3 XSS和CSRF攻击"></a>7.3 XSS和CSRF攻击</h3><p>xss：不需要你做任何的登录认证，它会通过合法的操作（比如在url中输入、在评论框中输入），向你的页面注入脚本（可能是js、hmtl代码块等）。<code>跨域脚本攻击</code></p>
<p>防御：</p>
<ul>
<li>编码：对用户输入的数据进行HTML Entity 编码。把字符转换成 转义字符。Encode的作用是将$var等一些字符进行转化，使得浏览器在最终输出结果上是一样的。</li>
<li>过滤：移除用户输入的和事件相关的属性。</li>
</ul>
<p>csrf：在未退出A网站的前提下访问B，B使用A的cookie去访问服务器。<code>跨站请求伪造</code></p>
<p>防御：</p>
<ul>
<li>使用验证码或者 token 验证，每次提交表单时需要带上 token（伪造者访问不到），如果 token 不合法，服务器拒绝请求</li>
<li>通过 host+origin 来判断是否为非法用户</li>
<li>给 Cookie 设置 SameSite属性，来限制第三方 Cookie，里面有三个值 strict、lax、none</li>
</ul>
<h3 id="7-4-进程和线程"><a href="#7-4-进程和线程" class="headerlink" title="7.4 进程和线程"></a>7.4 进程和线程</h3><p>进程是程序的一次执行，他占有一片独有的内存空间；可以通过windows任务管理器查看</p>
<p>线程是进程内的一个独立执行单元；是程序执行的一个完整的流程；是CPU的最小的调度单元</p>
<p>【联系】： 一个线程只能属于一个进程，而一个进程可以有多个线程，但至少有一个线程；<br>资源分配给进程，同一进程的所有线程共享该进程的所有资源；<br>处理机分给线程，即真正在处理机上运行的是线程；</p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">野菜</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2021/01/01/compute/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2021/01/01/compute/')">计算机基础笔记</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2021/01/01/compute/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=计算机基础笔记&amp;url=http://example.com/2021/01/01/compute/&amp;pic=https://api.gumengya.com/Api/FjImg?format=image&amp;_t=3" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">野菜</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"></div></div></div><div class="post_share"><div class="social-share" data-image="/img/bg.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/01/01/face/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=4" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">面试题</div></div></a></div><div class="next-post pull-right"><a href="/2021/01/11/JS/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://api.gumengya.com/Api/FjImg?format=image&amp;_t=15" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">JS笔记</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description"></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81-%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">一、 跨域问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-CORS"><span class="toc-number">1.1.</span> <span class="toc-text">1. CORS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><span class="toc-number">1.2.</span> <span class="toc-text">2. 反向代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Nginx"><span class="toc-number">1.3.</span> <span class="toc-text">3. Nginx</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81HTTP%E9%97%AE%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">二、HTTP问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-GET%E5%92%8CPOST%E8%AF%B7%E6%B1%82"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 GET和POST请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-HTTP%E8%AF%B7%E6%B1%82%E5%A4%B4%E5%92%8C%E5%93%8D%E5%BA%94%E5%A4%B4"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 HTTP请求头和响应头</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%A4%B4%EF%BC%9A"><span class="toc-number">2.2.1.</span> <span class="toc-text">请求头：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E5%A4%B4%EF%BC%9A"><span class="toc-number">2.2.2.</span> <span class="toc-text">响应头：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-HTTP%E7%8A%B6%E6%80%81%E7%A0%81304"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 HTTP状态码304</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4HTTP-1-0-%E5%92%8C-HTTP-1-1"><span class="toc-number">2.4.</span> <span class="toc-text">2.4HTTP 1.0 和 HTTP 1.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-HTTP-1-1-%E5%92%8C-HTTP-2-0"><span class="toc-number">2.5.</span> <span class="toc-text">2.5 HTTP 1.1 和 HTTP 2.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-HTTP%E5%92%8CHTTPS"><span class="toc-number">2.6.</span> <span class="toc-text">2.6 HTTP和HTTPS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-%E8%BE%93%E5%85%A5URL%E5%90%8E%E5%8F%91%E7%94%9F%E4%BA%86%E7%94%9F%E4%B9%88"><span class="toc-number">2.7.</span> <span class="toc-text">2.7 输入URL后发生了生么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87"><span class="toc-number">2.8.</span> <span class="toc-text">2.8 请求报文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9-%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87"><span class="toc-number">2.9.</span> <span class="toc-text">2.9 响应报文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-10-URL"><span class="toc-number">2.10.</span> <span class="toc-text">2.10 URL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-11-%E5%B8%B8%E8%A7%81%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">2.11.</span> <span class="toc-text">2.11 常见的状态码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81DNS"><span class="toc-number">3.</span> <span class="toc-text">三、DNS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B"><span class="toc-number">4.</span> <span class="toc-text">四、网络模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81TCP%E5%92%8CUDP"><span class="toc-number">5.</span> <span class="toc-text">五、TCP和UDP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E7%BC%93%E5%AD%98%E9%97%AE%E9%A2%98"><span class="toc-number">6.</span> <span class="toc-text">六、缓存问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E6%9C%AC%E5%9C%B0%E7%BC%93%E5%AD%98%E3%80%81cookie%E3%80%81token"><span class="toc-number">6.1.</span> <span class="toc-text">6.1 本地缓存、cookie、token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98"><span class="toc-number">6.2.</span> <span class="toc-text">6.2 浏览器缓存</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-number">7.</span> <span class="toc-text">七、浏览器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">7.1.</span> <span class="toc-text">7.1 性能优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%B8%B2%E6%9F%93%E6%9C%BA%E5%88%B6"><span class="toc-number">7.2.</span> <span class="toc-text">7.2 渲染机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-XSS%E5%92%8CCSRF%E6%94%BB%E5%87%BB"><span class="toc-number">7.3.</span> <span class="toc-text">7.3 XSS和CSRF攻击</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.4.</span> <span class="toc-text">7.4 进程和线程</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/11/04/js%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/" title="js的使用方法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/bg.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="js的使用方法"/></a><div class="content"><a class="title" href="/2025/11/04/js%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/" title="js的使用方法">js的使用方法</a><time datetime="2025-11-04T10:19:31.194Z" title="发表于 2025-11-04 18:19:31">2025-11-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/04/%E5%AD%A6%E4%B9%A0ts/" title="ts学习"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/bg.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ts学习"/></a><div class="content"><a class="title" href="/2025/11/04/%E5%AD%A6%E4%B9%A0ts/" title="ts学习">ts学习</a><time datetime="2025-11-04T10:02:22.066Z" title="发表于 2025-11-04 18:02:22">2025-11-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/02/jsproject/" title="js工具"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/bg.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="js工具"/></a><div class="content"><a class="title" href="/2025/11/02/jsproject/" title="js工具">js工具</a><time datetime="2025-11-01T16:00:00.000Z" title="发表于 2025-11-02 00:00:00">2025-11-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/29/mysql/" title="MySQL使用手册"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/bg.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL使用手册"/></a><div class="content"><a class="title" href="/2025/10/29/mysql/" title="MySQL使用手册">MySQL使用手册</a><time datetime="2025-10-28T16:00:00.000Z" title="发表于 2025-10-29 00:00:00">2025-10-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/26/Nginx/" title="Nginx配置"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/bg.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx配置"/></a><div class="content"><a class="title" href="/2025/10/26/Nginx/" title="Nginx配置">Nginx配置</a><time datetime="2025-10-25T16:00:00.000Z" title="发表于 2025-10-26 00:00:00">2025-10-26</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-上班摸鱼中.svg" alt="距离月入25k也就还差一个大佬带我~" title="距离月入25k也就还差一个大佬带我~"/><div id="runtimeTextTip"></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2025 By <a class="footer-bar-link" href="/" title="野菜" target="_blank">野菜</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">28</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">25</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">12</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://wjt03.top/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AJAX/" style="font-size: 0.88rem;">AJAX<sup>1</sup></a><a href="/tags/Axios/" style="font-size: 0.88rem;">Axios<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 0.88rem;">CSS<sup>1</sup></a><a href="/tags/Git/" style="font-size: 0.88rem;">Git<sup>1</sup></a><a href="/tags/HTML/" style="font-size: 0.88rem;">HTML<sup>1</sup></a><a href="/tags/MySQL/" style="font-size: 0.88rem;">MySQL<sup>1</sup></a><a href="/tags/Node-js/" style="font-size: 0.88rem;">Node.js<sup>1</sup></a><a href="/tags/React/" style="font-size: 0.88rem;">React<sup>1</sup></a><a href="/tags/TypeScript/" style="font-size: 0.88rem;">TypeScript<sup>1</sup></a><a href="/tags/Vue/" style="font-size: 0.88rem;">Vue<sup>3</sup></a><a href="/tags/Vue3/" style="font-size: 0.88rem;">Vue3<sup>1</sup></a><a href="/tags/canvas/" style="font-size: 0.88rem;">canvas<sup>1</sup></a><a href="/tags/host/" style="font-size: 0.88rem;">host<sup>1</sup></a><a href="/tags/js/" style="font-size: 0.88rem;">js<sup>3</sup></a><a href="/tags/this/" style="font-size: 0.88rem;">this<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 0.88rem;">前端<sup>3</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 0.88rem;">博客<sup>1</sup></a><a href="/tags/%E6%8C%87%E4%BB%A4/" style="font-size: 0.88rem;">指令<sup>1</sup></a><a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 0.88rem;">教程<sup>1</sup></a><a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 0.88rem;">框架<sup>1</sup></a><a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 0.88rem;">笔记<sup>3</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F/" style="font-size: 0.88rem;">系统<sup>4</sup></a><a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 0.88rem;">编程<sup>12</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 0.88rem;">面试题<sup>1</sup></a><a href="/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/" style="font-size: 0.88rem;">项目总结<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="14379744963" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 野菜 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("04/01/2021 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-下班啦.svg";
        img.title = "下班了就该开开心心的玩耍，嘿嘿~";
        img.alt = "下班了就该开开心心的玩耍，嘿嘿~";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>